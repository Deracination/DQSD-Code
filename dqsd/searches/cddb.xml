<search function="cddb">
  <name>Gracenote CDDB</name>
  <description>
    Search CDDB by artist, album, song, or a combination of the three. Searches by artist by default.<br/>
    <a class="helpboxDescLabels">Switches:</a><br/>
  	<table class="helpBoxDescTable">
  		<tr><td class="helpboxDescColumns">/artist</td><td class="helpboxDescColumns"> - </td><td class="helpboxDescColumns">Search for artists.</td></tr>
  		<tr><td class="helpboxDescColumns">/album</td><td class="helpboxDescColumns"> - </td><td class="helpboxDescColumns">Search for albums.</td></tr>
  		<tr><td class="helpboxDescColumns">/song</td><td class="helpboxDescColumns"> - </td><td class="helpboxDescColumns">Search for songs.</td></tr>
  	</table>
    <a class="helpboxDescLabels">Examples:</a><br/>
    <table class="helpBoxDescTable">
  		<tr><td class="helpboxDescColumns">cddb Blender</td></tr>
  		<tr><td class="helpboxDescColumns">cddb Let It Be /artist /title</td></tr>
  	</table>
  </description>
  <category>Entertainment</category>
  <link>http://www.cddb.com/</link>
  <contributor>Peter Risser, Ryan Edwards</contributor>
  
  <form name="cddbf"
        action="http://www.cddb.com/php/search2.php3">
    <input type="hidden" name="f"/>
    <input type="hidden" name="q"/>
  </form>
  
  <script><![CDATA[
    function cddb(q)
    {
      var parsedargs = parseArgs(q, "artist, album, song");
      if( nullArgs("cddb", q) )
        return false;
      else if( parsedargs.switches.length > 0 )
      {
        var args = "";
        for( var i = 0; i < parsedargs.switches.length; i++ )
        {
          switch( parsedargs.switches[i].name )
          {
            case "artist": args += "artist"; break;
            case "album": args += "disc"; break;
            case "song": args += "track"; break;
          }
          args += (args ? " " : "");
        }
        document.cddbf.q.value = parsedargs.q;
        document.cddbf.f.value = args;
        submitForm(cddbf);
      }
      else
      {
        document.cddbf.q.value = parsedargs.q;
        document.cddbf.f.value = "artist";
        submitForm(cddbf);
      }
    }
  ]]></script>
</search>
