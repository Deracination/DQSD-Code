<search function="amaz">
  <name>Amazon.com</name>
  <description>Search specific stores including Books: "amaz harry potter /books", DVDs: "amaz shawshank /dvd", music: "amaz moxy fruvous /music", toys: "amaz mindstorms /toys"</description>
  <category>Shopping</category>
  <link>http://www.amazon.com/</link>
  <contributor>Dan Sanderson, Ryan Edwards</contributor>
  <form name="amazf"
        action="http://www.amazon.com/exec/obidos/search-handle-form"
        method="post">
    <input type="hidden" name="index"/>
    <input type="hidden" name="field-keywords"/>
  </form>
  <script><![CDATA[
    function amaz(q)
    {
      if( nullArgs("amaz", q) )
        return false;

      var args = parseArgs(q, "books, music, classical, dvd, vhs, movies, toys, baby, computers, software, games, electronics, photography, tools, magazines, garden, kitchen, travel, cellular, outlet, auctions, zshops");
      if( q == "" )
        openSearchWindow("http://www.amazon.com/");
      else if( args.switches.length == 1 )
      {
        switch( args.switches[0].name )
        {
          case "movies":
            document.amazf.index.value = "theatrical"; break;
          case "computers":
            document.amazf.index.value = "pc-hardware"; break;
          case "games":
            document.amazf.index.value = "videogames"; break;
          case "photography":
            document.amazf.index.value = "photo"; break;
          case "cellular":
            document.amazf.index.value = "wireless-phones"; break;
          case "auctions":
            document.amazf.index.value = "auction-redirect"; break;
          case "zshops":
            document.amazf.index.value = "fixed-price-redirect"; break;
          default:
            document.amazf.index.value = args.switches[0].name;
        }
        document.amazf["field-keywords"].value = args.q;
        submitForm(amazf);
      }
      else
      {
        document.amazf.index.value = "blended";
        document.amazf["field-keywords"].value = args.q;
        submitForm(amazf);
      }
    }
  ]]></script>
</search>
