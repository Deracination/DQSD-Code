<search function="amaz">
  <name>Amazon.com</name>
  <description>Search specific stores including Books: "amaz harry potter /books", DVDs: "amaz shawshank /dvd", music: "amaz moxy fruvous /music", toys: "amaz mindstorms /toys"</description>
  <category>Shopping</category>
  <link>http://www.amazon.com/</link>
  <switches>books, music, classical, dvd, vhs, movies, toys, baby, computers, software, games, electronics, photography, tools, magazines, garden, kitchen, travel, cellular, outlet, auctions, zshops</switches>
  <contributor>Dan Sanderson, Ryan Edwards</contributor>
  <form name="amzf"
        target="_blank"
        action="http://www.amazon.com/exec/obidos/search-handle-form"
        method="post">
    <input type="hidden" name="index"/>
    <input type="hidden" name="field-keywords"/>
  </form>
  <script><![CDATA[
    function amaz(q, switches)
    {
      if( q == "" )
        openSearchWindow("http://www.amazon.com/");
      else if( switches.length == 1 )
      {
        switch( switches[0] )
        {
          case "movies":
            document.amzf.index.value = "theatrical"; break;
          case "computers":
            document.amzf.index.value = "pc-hardware"; break;
          case "games":
            document.amzf.index.value = "videogames"; break;
          case "photography":
            document.amzf.index.value = "photo"; break;
          case "cellular":
            document.amzf.index.value = "wireless-phones"; break;
          case "auctions":
            document.amzf.index.value = "auction-redirect"; break;
          case "zshops":
            document.amzf.index.value = "fixed-price-redirect"; break;
          default:
            document.amzf.index.value = switches[0];
        }
        document.amzf["field-keywords"].value = q;
        submitForm(amzf);
      }
      else
      {
        document.amzf.index.value = "blended";
        document.amzf["field-keywords"].value = q;
        submitForm(amzf);
      }
    }
  ]]></script>
</search>
