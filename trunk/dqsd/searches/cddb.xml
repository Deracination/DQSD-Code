<search function="cddb">
  <name>Gracenote CDDB</name>
  <description>Search CDDB by /artist, /album, /song, or a combination of the three. <nobr>Example: "cddb Madonna /artist /title"</nobr></description>
  <category>Entertainment</category>
  <link>http://www.cddb.com/</link>
  <switches>artist, album, song</switches>
  <contributor>Peter Risser, Ryan Edwards</contributor>
  <form name="cdbf"
        target="_blank"
        action="http://www.cddb.com/php/search2.php3">
    <input type="hidden" name="f"/>
    <input type="hidden" name="q"/>
  </form>
  <script><![CDATA[
    function cddb(q, switches)
    {
      if( q == "" )
        openSearchWindow("http://www.cddb.com/");
      else if( switches.length > 0 )
      {
        var args = "";
        for( var i = 0; i < switches.length; i++ )
        {
          switch( switches[i] )
          {
            case "artist": args += "artist"; break;
            case "album": args += "disc"; break;
            case "song": args += "track"; break;
          }
          args += (args ? " " : "");
        }
        document.cdbf.q.value = q;
        document.cdbf.f.value = args;
        submitForm(cdbf);
      }
      else
      {
        document.cdbf.q.value = q;
        document.cdbf.f.value = "artist";
        submitForm(cdbf);
      }
    }
  ]]></script>
</search>
