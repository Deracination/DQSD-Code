<search function="town">
  <COMMENT>

    This search file was initially created by Dave's Quick Search Deskbar
    Search Wizard version 0.4 (beta) on 08/18/02 at 15:54:48

    Even though this XML search will probably load and is a healthy start
    toward a completed search, please be aware that this search will probably
    not work as is and will require some human inspection and modification.

  </COMMENT>
  <name>Rootsweb Town Search</name>
  <category>Genealogy</category>
  <contributor>Brent Beardsley</contributor>
  <link>http://resources.rootsweb.com/cgi-bin/townco.cgi</link>
  <email></email>
  <description>
  Search for a town on Rootsweb Town Search
  </description>
  <form name="townf"
        method="post"
        action="http://resources.rootsweb.com/cgi-bin/townco.cgi">

    <COMMENT> The following field was active (i.e. had focus) when the search was generated. </COMMENT>

    <input type="hidden" name="city" value="" />
    <input type="hidden" name="state" value="" />
  </form>
  <script><![CDATA[
    function town(q)
    {
      if( nullArgs("town", q) )
        return;

      if( q == "" )
      {
        openSearchWindow("http://resources.rootsweb.com/cgi-bin/townco.cgi");
        return;
      }

      // Parse switches with parseArgs:

      // parseArgs usage:
      // Arguments:
      //    q                - string from the search function
      //    expectedSwitches - list or array of the expected switch values
      //    expandSwitches   - optional parameter [default = true] used to determine 
      //                       if the switch shortcuts should be expanded (i.e. /f becomes /foo)
      // Returns an object with these properties:
      //    q        - the input string with the switches removed
      //    switches - array of objects with these two properties:
      //                  name:   expanded name of the matched switch (i.e. foo as in /foo:bar)
      //                  value:  value of switch (i.e. bar as in /foo:bar)
      //    switch_val - associative array with the switch name as the key with the switch value 
      //                 as the value. (i.e. switch_val["foo"] = "bar" as in /foo:bar)

      document.townf.city.value = "";
      document.townf.state.value = "";

      var args = parseArgs(q, "state");
      if ( args.switches.length > 0 )
      {
        switch( args.switches[0].name )
        {
          case "state":
	       document.townf.state.value = args.switch_val["state"];
               break;
          default:
               break;
        } //end-switch
      }

      // FORM variables for townf

      // The wizard assigned the search string to this form field value because
      // this field was the active element when the search file was generated.
      // Change this to args.q if the search string is parsed with parseArgs.
      document.townf.city.value = args.q;

      submitForm(townf);
    }
  ]]></script>
</search>