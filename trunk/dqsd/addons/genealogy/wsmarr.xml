<search function="wsmarr">
  <name>Western States Marriage Record Index</name>
  <category>Genealogy</category>
  <contributor>Brent Beardsley</contributor>
  <link>http://abish.byui.edu/specialCollections/fhc/gbsearch.htm</link>
  <email></email>
  <description>
  Search the Western States Historical Marriage Record Index 
    <div class="helpboxDescLabels">Switches:</div>
  	<table class="helpboxDescTable">
  		<tr><td>/all [default]</td><td> - </td><td>Search brides and grooms</td></tr>
  		<tr><td>/bride</td><td> - </td><td>Search only brides</td></tr>
  		<tr><td>/groom</td><td> - </td><td>Search only grooms</td></tr>
  	</table>
    <div class="helpboxDescLabels">Example:</div>
    <table class="helpboxDescTable">
  		<tr><td>wsmarr /groom brown</td></tr>
  	</table>

  </description>
  <form name="wsmarrgf"
        method="post"
        action="http://abish.byui.edu/specialCollections/fhc/gbret.idc">
    <input type="hidden" name="g_firstname" value="" />
    <input type="hidden" name="g_lastname" value="" />
  </form>
  <form name="wsmarrbf"
        method="post"
        action="http://abish.byui.edu/specialCollections/fhc/bgret.idc">
    <input type="hidden" name="b_firstname" value="" />
    <input type="hidden" name="b_lastname" value="" />
  </form>

  <script src="addons/genealogy/genealogy_lib.js"></script>
  <script><![CDATA[
    function wsmarr(q)
    {
      if( nullArgs("wsmarr", q) )
        return;

      var args = parseArgs(q, "all, bride, groom");
      if (args != null) {
	var do_groom = true;
	var do_bride = true;
	if (args.switches.length > 0) {
		do_groom = false;
		do_bride = false;
	        for (var i=0; i < args.switches.length; i++) {
		  switch (args.switches[i].name)
		  {
			case "groom": do_groom = true; break;
			case "bride": do_bride = true; break;
			case "all":
			default:
			  do_groom = true; do_bride = true; break;
  		  }
		}
	}   
	if (args.q == "") {
		do_groom = false;
		do_bride = false;
	}   
	if (!do_groom && !do_bride) {
		nullArgs("wsmarr", "?");
		return;
	}
	if (do_bride) {
		document.wsmarrbf.b_firstname.value = genealogy_parse_givenname(args.q);
		document.wsmarrbf.b_lastname.value = genealogy_parse_surname(args.q);
		submitForm(wsmarrbf);
	}
	if (do_groom) {
		document.wsmarrgf.g_firstname.value = genealogy_parse_givenname(args.q);
		document.wsmarrgf.g_lastname.value = genealogy_parse_surname(args.q);
		submitForm(wsmarrgf);
	}
      }

    }
  ]]></script>
</search>